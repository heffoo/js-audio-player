(this["webpackJsonpaudio-player-coursework"]=this["webpackJsonpaudio-player-coursework"]||[]).push([[0],{13:function(t,e,n){},14:function(t,e,n){},16:function(t,e,n){"use strict";n.r(e);var c=n(2),r=n.n(c),s=n(8),a=n.n(s),i=(n(13),n(3)),o=n(7),u=n(6),l=n(4),j=n.p+"static/media/No_cover.12caaab3.png",d=(n(14),n(1)),b=[{singer:"HIM",track:"Pretending",title:"HIM - Pretending",cover:"./assets/pretending_cover.png",src:"./audio/pretending.mp3"},{singer:"Pain",track:"Shut Your Mouth",title:"Pain - Shut Your Mouth",cover:"./assets/pain.png",src:"./audio/pain.mp3"},{singer:"Crazytown",track:"Butterfly",title:"Crazytown - Butterfly",cover:"./assets/butterfly.png",src:"./audio/butterfly.mp3"},{singer:"Dreadful Shadows",track:"Futility",title:"Dreadful Shadows - Futility",cover:"./assets/ds.png",src:"./audio/futility.mp3"},{singer:"Soundgarden",track:"Black Hole Sun",title:"Soundgarden - Black Hole Sun",cover:"./assets/soundgarden.png",src:"./audio/soundgarden.mp3"}];var p=function(){var t=Object(c.useState)(b[0]),e=Object(i.a)(t,2),n=e[0],r=e[1],s=Object(c.useState)("pause"),a=Object(i.a)(s,2),p=a[0],O=a[1],f=Object(c.useState)(0),m=Object(i.a)(f,2),g=m[0],h=m[1],x=Object(c.useState)("00:00"),v=Object(i.a)(x,2),S=v[0],k=v[1],N=Object(c.useState)("00:00"),y=Object(i.a)(N,2),w=y[0],C=y[1],M=Object(c.useState)(!1),T=Object(i.a)(M,2),_=T[0],B=T[1],E=Object(c.useState)(!1),I=Object(i.a)(E,2),H=I[0],P=I[1],R=Object(c.useState)(!1),L=Object(i.a)(R,2),U=L[0],z=L[1],D=Object(c.useRef)(),F=Object(c.useRef)(!1);function J(){O("play"),D.current.play()}function Y(){var t=b.findIndex((function(t){return t.title===n.title}));r(t>b.length-2?b[0]:b[t+1]),D.current.load()}function A(t,e){return[t.toString().padStart(2,"0"),e.toString().padStart(2,"0")].join(":")}function X(){return setTimeout((function(){z(!1)}),3e3),Object(d.jsx)("div",{id:"popup",className:"popup",children:"\u041f\u0435\u0441\u043d\u044f \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u0438"})}return Object(c.useEffect)((function(){F.current?J():F.current=!0}),[n]),Object(d.jsxs)("div",{className:"App",children:[U&&Object(d.jsx)(X,{}),Object(d.jsxs)("div",{className:"player",children:[Object(d.jsxs)("label",{class:"custom-file-upload",children:["\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0435\u0441\u043d\u044e",Object(d.jsx)("input",{type:"file",accept:"audio/mp3",id:"inputElement",onChange:function(t){return function(t){var e=t.target.files[0].name.split("-");b.push({singer:e[0],track:e[1],title:e,cover:j,src:URL.createObjectURL(t.target.files[0])}),z(!0)}(t)}})]}),Object(d.jsx)("img",{style:{width:200},src:n.cover,alt:"cover"}),Object(d.jsxs)("div",{className:"buttons",children:[Object(d.jsx)("button",{className:"control-button",onClick:function(){var t=b.findIndex((function(t){return t.title===n.title}));r(0===t?b[b.length-1]:b[t-1]),D.current.load()},children:Object(d.jsx)(l.c,{})}),"pause"===p?Object(d.jsx)("button",{className:"control-button",onClick:J,children:Object(d.jsx)(l.b,{})}):Object(d.jsx)("button",{className:"control-button",onClick:function(){O("pause"),D.current.pause()},children:Object(d.jsx)(l.a,{})}),Object(d.jsx)("button",{className:"control-button",onClick:Y,children:Object(d.jsx)(l.d,{})})]}),Object(d.jsxs)("div",{className:"title",children:[Object(d.jsx)("label",{className:"singer",children:n.singer}),Object(d.jsx)("label",{children:n.track.replace(".mp3","")})]}),Object(d.jsx)("audio",{ref:D,className:"audio1",src:n.src,onTimeUpdate:function(t){!function(){var t=D.current,e=t.duration,n=t.currentTime;h(n/e*100)}(),function(t){var e=t.target.currentTime,n=Math.floor(e/60),c=Math.floor(e%60);k(A(n,c))}(t)},onLoadedMetadata:function(t){return function(t){var e=t.target.duration,n=Math.floor(e/60),c=Math.floor(e%60);C(A(n,c))}(t)},onEnded:Y,muted:_,loop:H}),Object(d.jsxs)("div",{className:"progress-buttons",children:[Object(d.jsx)("button",{className:"progress-buttons__button",onClick:function(){return B(!_)},children:_?Object(d.jsx)(u.a,{}):Object(d.jsx)(u.b,{})}),Object(d.jsx)("button",{className:"progress-buttons__button",onClick:function(){return P(!H)},children:H?Object(d.jsx)(o.b,{}):Object(d.jsx)(o.a,{})})]}),Object(d.jsxs)("div",{className:"progressbar",onClick:function(t){var e=t.nativeEvent.offsetX,n=D.current.duration;D.current.currentTime=e/600*n},children:[Object(d.jsx)("div",{className:"time",children:S}),Object(d.jsx)("div",{className:"endTime",children:w}),Object(d.jsx)("div",{className:"progress",style:{width:g+"%"}})]})]})]})};a.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(p,{})}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.bd14b4fd.chunk.js.map
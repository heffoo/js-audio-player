{"version":3,"sources":["App.js","index.js"],"names":["App","tracks","title","src","useState","currentTrack","setCurrentTrack","play","setPlay","progressBarPercent","setProgressBarPercent","audio","useRef","playTrack","current","mounted","nextTrack","index","findIndex","el","length","load","useEffect","className","onClick","icon","pause","ref","onTimeUpdate","duration","currentTime","onEnded","e","clickX","nativeEvent","offsetX","style","width","library","add","far","fas","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"mQA6GeA,MAxGf,WACE,IAAMC,EAAS,CACb,CACEC,MAAO,mBACPC,IAAK,0BAEP,CACED,MAAO,yBACPC,IAAK,oBAEP,CACED,MAAO,wBACPC,IAAK,0BAZI,EAgB2BC,mBAASH,EAAO,IAhB3C,mBAgBNI,EAhBM,KAgBQC,EAhBR,OAkBWF,mBAAS,SAlBpB,mBAkBNG,EAlBM,KAkBAC,EAlBA,OAmBuCJ,mBAAS,GAnBhD,mBAmBNK,EAnBM,KAmBcC,EAnBd,KAqBPC,EAAQC,mBAEd,SAASC,IACPL,EAAQ,QACRG,EAAMG,QAAQP,OAQhB,IAAMQ,EAAUH,kBAAO,GAiBvB,SAASI,IACP,IAAIC,EAAQhB,EAAOiB,WAAU,SAACC,GAAD,OAAQA,EAAGjB,QAAUG,EAAaH,SAC/DI,EAAgBW,EAAQhB,EAAOmB,OAAS,EAAInB,EAAO,GAAKA,EAAOgB,EAAQ,IAEvEN,EAAMG,QAAQO,OAgBhB,OAnCAC,qBAAU,WACHP,EAAQD,QAGXD,IAFAE,EAAQD,SAAU,IAInB,CAACT,IA6BG,qBAAKkB,UAAU,MAAf,SACH,sBAAKA,UAAU,SAAf,UACE,gCAAQlB,EAAaH,QACrB,sBAAKqB,UAAU,UAAf,UACE,wBAAQA,UAAU,iBAAiBC,QA/B3C,WACE,IAAIP,EAAQhB,EAAOiB,WAAU,SAACC,GAAD,OAAQA,EAAGjB,QAAUG,EAAaH,SAC/DI,EAA0B,IAAVW,EAAchB,EAAO,GAAKA,EAAOgB,EAAQ,IAEzDN,EAAMG,QAAQO,QA2BR,SACE,cAAC,IAAD,CAAiBI,KAAK,0BAEd,UAATlB,EACC,wBAAQgB,UAAU,iBAAiBC,QAASX,EAA5C,kBAIA,wBAAQU,UAAU,iBAAiBC,QAtD7C,WACEhB,EAAQ,SACRG,EAAMG,QAAQY,SAoDN,mBAIF,wBAAQH,UAAU,iBAAiBC,QAASR,EAA5C,SACE,cAAC,IAAD,CAAiBS,KAAK,8BAG1B,uBACEE,IAAKhB,EACLY,UAAU,SACVpB,IAAKE,EAAaF,IAClByB,aArCR,WAAwB,IAAD,EACajB,EAAMG,QAAhCe,EADa,EACbA,SAAUC,EADG,EACHA,YAClBpB,EAAuBoB,EAAcD,EAAY,MAoC3CE,QAASf,IAEX,qBAAKO,UAAU,cAAcC,QAnCnC,SAAoBQ,GAClB,IACMC,EAASD,EAAEE,YAAYC,QACrBN,EAAalB,EAAMG,QAAnBe,SAERlB,EAAMG,QAAQgB,YAAeG,EAJZ,IAIiCJ,GA8B9C,SACE,qBAAKN,UAAU,WAAWa,MAAO,CAAEC,MAAO5B,EAAqB,e,sBC/FzE6B,IAAQC,IAAIC,KACZF,IAAQC,IAAIE,KAEZC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.c191e18f.chunk.js","sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\nimport \"./App.css\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nfunction App() {\n  const tracks = [\n    {\n      title: \"HIM - Pretending\",\n      src: \"./audio/pretending.mp3\",\n    },\n    {\n      title: \"Pain - Shut Your Mouth\",\n      src: \"./audio/pain.mp3\",\n    },\n    {\n      title: \"Crazytown - Butterfly\",\n      src: \"./audio/butterfly.mp3\",\n    },\n  ];\n\n  const [currentTrack, setCurrentTrack] = useState(tracks[0]);\n\n  const [play, setPlay] = useState(\"pause\");\n  const [progressBarPercent, setProgressBarPercent] = useState(0);\n\n  const audio = useRef();\n\n  function playTrack() {\n    setPlay(\"play\");\n    audio.current.play();\n  }\n\n  function pauseTrack() {\n    setPlay(\"pause\");\n    audio.current.pause();\n  }\n\n  const mounted = useRef(false);\n\n  useEffect(() => {\n    if (!mounted.current) {\n      mounted.current = true;\n    } else {\n      playTrack();\n    }\n  }, [currentTrack]);\n\n  function prevTrack() {\n    let index = tracks.findIndex((el) => el.title === currentTrack.title);\n    setCurrentTrack(index === 0 ? tracks[2] : tracks[index - 1]); // потом пофиксить (чтоб было -1, а не -2, разобраться почему так ваще)\n\n    audio.current.load();\n  }\n\n  function nextTrack() {\n    let index = tracks.findIndex((el) => el.title === currentTrack.title);\n    setCurrentTrack(index > tracks.length - 2 ? tracks[0] : tracks[index + 1]); // потом пофиксить (чтоб было -1, а не -2, разобраться почему так ваще)\n\n    audio.current.load();\n  }\n\n  function progressBar() {\n    const { duration, currentTime } = audio.current;\n    setProgressBarPercent((currentTime / duration) * 100);\n  }\n\n  function rewindSong(e) {\n    const barWidth = 600;\n    const clickX = e.nativeEvent.offsetX;\n    const { duration } = audio.current;\n\n    audio.current.currentTime = (clickX / barWidth) * duration;\n  }\n\n  return <div className=\"App\">\n      <div className=\"player\">\n        <label>{currentTrack.title}</label>\n        <div className=\"buttons\">\n          <button className=\"control-button\" onClick={prevTrack}>\n            <FontAwesomeIcon icon=\"chevron-circle-left\" />\n          </button>\n          {play === \"pause\" ? (\n            <button className=\"control-button\" onClick={playTrack}>\n              play\n            </button>\n          ) : (\n            <button className=\"control-button\" onClick={pauseTrack}>\n              pause\n            </button>\n          )}\n          <button className=\"control-button\" onClick={nextTrack}>\n            <FontAwesomeIcon icon=\"chevron-circle-right\" />\n          </button>\n        </div>\n        <audio\n          ref={audio}\n          className=\"audio1\"\n          src={currentTrack.src}\n          onTimeUpdate={progressBar}\n          onEnded={nextTrack}\n        />\n        <div className=\"progressbar\" onClick={rewindSong}>\n          <div className=\"progress\" style={{ width: progressBarPercent + \"%\" }}></div>\n        </div>\n      </div>\n    </div>\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\nimport { fas } from \"@fortawesome/free-solid-svg-icons\";\nimport { far } from \"@fortawesome/free-regular-svg-icons\";\n\nlibrary.add(far);\nlibrary.add(fas);\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}
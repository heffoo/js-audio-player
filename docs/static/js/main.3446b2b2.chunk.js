(this["webpackJsonpaudio-player-coursework"]=this["webpackJsonpaudio-player-coursework"]||[]).push([[0],{15:function(t,e,n){},21:function(t,e,n){},23:function(t,e,n){"use strict";n.r(e);var c=n(2),r=n.n(c),a=n(8),s=n.n(a),i=(n(15),n(4)),o=n(5),u=(n(21),n(1));var l=function(){var t=[{singer:"HIM",track:"Pretending",title:"HIM - Pretending",cover:"./assets/pretending_cover.png",src:"./audio/pretending.mp3"},{singer:"Pain",track:"Shut Your Mouth",title:"Pain - Shut Your Mouth",cover:"./assets/pain.png",src:"./audio/pain.mp3"},{singer:"Crazytown",track:"Butterfly",title:"Crazytown - Butterfly",cover:"./assets/butterfly.png",src:"./audio/butterfly.mp3"}],e=Object(c.useState)(t[0]),n=Object(i.a)(e,2),r=n[0],a=n[1],s=Object(c.useState)("pause"),l=Object(i.a)(s,2),d=l[0],j=l[1],b=Object(c.useState)(0),f=Object(i.a)(b,2),O=f[0],p=f[1],h=Object(c.useState)("00:00"),m=Object(i.a)(h,2),v=m[0],x=m[1],g=Object(c.useState)("00:00"),y=Object(i.a)(g,2),k=y[0],N=y[1],S=Object(c.useRef)(),w=Object(c.useRef)(!1);function M(){j("play"),S.current.play()}function C(){var e=t.findIndex((function(t){return t.title===r.title}));a(e>t.length-2?t[0]:t[e+1]),S.current.load()}function I(t,e){return[t.toString().padStart(2,"0"),e.toString().padStart(2,"0")].join(":")}return Object(c.useEffect)((function(){w.current?M():w.current=!0}),[r]),Object(u.jsx)("div",{className:"App",children:Object(u.jsxs)("div",{className:"player",children:[Object(u.jsx)("img",{style:{width:200},src:r.cover,alt:"cover"}),Object(u.jsxs)("div",{className:"buttons",children:[Object(u.jsx)("button",{className:"control-button",onClick:function(){var e=t.findIndex((function(t){return t.title===r.title}));a(0===e?t[2]:t[e-1]),S.current.load()},children:Object(u.jsx)(o.a,{icon:"backward"})}),"pause"===d?Object(u.jsx)("button",{className:"control-button",onClick:M,children:Object(u.jsx)(o.a,{icon:"play"})}):Object(u.jsx)("button",{className:"control-button",onClick:function(){j("pause"),S.current.pause()},children:Object(u.jsx)(o.a,{icon:"pause"})}),Object(u.jsx)("button",{className:"control-button",onClick:C,children:Object(u.jsx)(o.a,{icon:"forward"})})]}),Object(u.jsxs)("div",{className:"title",children:[Object(u.jsx)("label",{className:"singer",children:r.singer}),Object(u.jsx)("label",{children:r.track})]}),Object(u.jsx)("audio",{ref:S,className:"audio1",src:r.src,onTimeUpdate:function(t){!function(){var t=S.current,e=t.duration,n=t.currentTime;p(n/e*100)}(),function(t){var e=t.target.currentTime,n=Math.floor(e/60),c=Math.floor(e%60);x(I(n,c))}(t)},onLoadedMetadata:function(t){return function(t){var e=t.target.duration,n=Math.floor(e/60),c=Math.floor(e%60);N(I(n,c))}(t)},onEnded:C}),Object(u.jsxs)("div",{className:"progressbar",onClick:function(t){var e=t.nativeEvent.offsetX,n=S.current.duration;S.current.currentTime=e/600*n},children:[Object(u.jsx)("div",{className:"time",children:v}),Object(u.jsx)("div",{className:"endTime",children:k}),Object(u.jsx)("div",{className:"progress",style:{width:O+"%"}})]})]})})},d=n(3),j=n(10),b=n(9);d.b.add(b.a),d.b.add(j.a),s.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(l,{})}),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.3446b2b2.chunk.js.map